<div *ngIf="!isLoggedIn">
    <app-no-access></app-no-access>
</div>
<div *ngIf="isLoggedIn">
    <div class = "row h2 my-4 text-center">
        <p>Список пользователей</p>
    </div>
    <div class="row">
        <div class="col text-start">
            <button (click)="registerUser()" class="btn btn-primary mb-1">Зарегистрировать</button>
        </div>
        <div class="col-3 text-end">
            <input type="text" class="form-control" placeholder="Поиск" (keyup)="applyFilter($event)">
        </div>
    </div>
    <table class = "table table-striped table-bordered table-hover align-middle text-center mb-1 shadow-lg bg-white">
        <thead>
            <tr>
                <th><a id="lastName" (click)="applySortTest($event)">Фамилия</a></th>
                <th><a id="firstName" (click)="applySortTest($event)">Имя</a></th>
                <th><a id="roleByRoleId.roleName" (click)="applySortTest($event)">Должность</a></th>
                <th><a id="blocked" (click)="applySortTest($event)">Блокировка</a></th>
                <th><a>Действия</a></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor = "let user of users" >
                <td> {{ user.lastName }} </td>
                <td> {{ user.firstName }} </td>
                <td> {{ user.roleByRoleId.roleName }} </td>
                <td> {{ user.blocked }} </td>
                <td>
                    <button (click) = "updateUser(user.userId)" class = "btn btn-primary">Изменить</button>
                    <button (click) = "deleteUser(user.userId)" class = "btn btn-danger" style="margin-left: 10px">Заблокировать</button>
                </td>
            </tr>
        </tbody>
    </table>
    <div class="row">
        <div class="col">
            
        </div>
        <div class="col-3 text-end">
            <button (click) = "saveTable()" class = "btn btn-primary">Экспорт</button>
        </div>
    </div>
</div>