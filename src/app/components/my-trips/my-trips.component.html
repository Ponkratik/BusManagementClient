<div *ngIf="!isLoggedIn">
    <app-no-access></app-no-access>
</div>
<div *ngIf="isLoggedIn">
    <div class = "row h2 my-4 text-center">
        <p>Мои рейсы</p>
    </div>
    <div class="row">
        <div class="col text-start">

        </div>
        <div class="col-3 text-end">
            <input type="date" class="form-control" name="dateStr" [(ngModel)]="form1.dateStr"
                             maxlength="10" #dateStr="ngModel" (change)="applyFilter()" />
        </div>
    </div>
    <div *ngIf="trips != undefined && trips.length">
        <table class = "table table-striped table-bordered table-hover align-middle text-center mb-1">
            <thead>
                <tr>
                    <th><a id="routeByRouteId.routeId">Номер</a></th>
                    <th><a id="routeByRouteId.routeName">Название</a></th>
                    <th><a id="depTime">Дата отправления</a></th>
                    <th><a id="busByBusId.busModel">Автобус</a></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor = "let trip of trips" >
                    <td> {{ trip.routeByRouteId.routeId }} </td>
                    <td> {{ trip.routeByRouteId.routeName }} </td>
                    <td> {{ trip.depTime | date:'dd.MM.yyyy HH:mm:ss':'UTC +3'}} </td>
                    <td> {{ trip.busByBusId.busModel + ' ' + trip.busByBusId.number }} </td>
                </tr>
            </tbody>
        </table>
        <div class="row">
            <div class="col">
                
            </div>
            <div class="col-3 text-end">
                <button (click) = "saveTable()" class = "btn btn-primary">Экспорт</button>
            </div>
        </div>
    </div>
</div>